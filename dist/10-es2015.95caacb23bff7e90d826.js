(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{y6cI:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthenticateModule",(function(){return T}));var r=n("ofXK"),o=n("tyNb"),i=n("3Pt+"),a=n("FXTs"),s=n("4EY8"),c=n("nYR2"),l=n("fXoL"),u=n("QaBP"),p=n("tk/3");let b=(()=>{class t{constructor(t){this.http=t}authenticate(t){return this.http.post(u.a.AUTHENTICATION.LOGIN,t)}}return t.\u0275fac=function(e){return new(e||t)(l.Yb(p.b))},t.\u0275prov=l.Kb({token:t,factory:t.\u0275fac}),t})();var d=n("r2RY"),m=n("VHOi"),f=n("kmnG"),g=n("qFsG"),h=n("gIp+");let O=(()=>{class t{constructor(t,e,n,r){this.authService=t,this.router=e,this.snackBarService=n,this.tokenService=r,this.logoUrl=s.b.LOGO,this.loading=!1}ngOnInit(){this.initForm()}initForm(){this.formGroup=new i.d({username:new i.b("",[i.n.required]),password:new i.b("",[i.n.required])})}login(){if(this.formGroup.invalid)return;const t={username:this.formGroup.get("username").value,password:this.formGroup.get("password").value};this.loading=!0,this.authService.authenticate(t).pipe(Object(c.a)(()=>this.loading=!1)).subscribe(t=>{this.tokenService.saveToken(t.token),localStorage.setItem(s.a.LOCALSTORAGE_BORROWED_BOOK,JSON.stringify(this.tokenService.getBorrowedBook())),this.router.navigateByUrl("/"+a.a.ACCOUNT.BASE_MODULE)},t=>{this.snackBarService.error("Username or password is wrong")})}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(b),l.Ob(o.b),l.Ob(d.a),l.Ob(m.a))},t.\u0275cmp=l.Ib({type:t,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"login-form"],[1,"form-wrap"],[1,"img"],[3,"src"],[3,"formGroup","submit"],[1,"form-input"],["matInput","","formControlName","username","placeholder","Email Adresa ose Username"],["matInput","","type","password","formControlName","password","placeholder","Fjalekalimi"],[1,"button"],["text","Kycu","color","primary",3,"loading"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"div",2),l.Pb(3,"img",3),l.Tb(),l.Ub(4,"form",4),l.cc("submit",(function(){return e.login()})),l.Ub(5,"div",5),l.Ub(6,"mat-form-field"),l.Ub(7,"mat-label"),l.zc(8,"Email Adresa"),l.Tb(),l.Pb(9,"input",6),l.Tb(),l.Tb(),l.Ub(10,"div",5),l.Ub(11,"mat-form-field"),l.Ub(12,"mat-label"),l.zc(13,"Fjalekalimi"),l.Tb(),l.Pb(14,"input",7),l.Tb(),l.Tb(),l.Ub(15,"div",8),l.Pb(16,"app-button-spinner",9),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(3),l.lc("src",e.logoUrl,l.tc),l.Cb(1),l.kc("formGroup",e.formGroup),l.Cb(12),l.kc("loading",e.loading))},directives:[i.o,i.k,i.e,f.b,f.e,g.b,i.a,i.j,i.c,h.a],styles:["[_nghost-%COMP%]{display:flex;flex:1}.login-form[_ngcontent-%COMP%]{margin:0 auto;width:500px;border-radius:3px;background-color:#fff}.form-wrap[_ngcontent-%COMP%]{padding:40px 0}.button[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]{padding:0 40px}.img[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-bottom:50px}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}@media screen and (max-width:800px){.login-form[_ngcontent-%COMP%], [_nghost-%COMP%]{width:100%;height:100%}}"]}),t})();const w=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Ib({type:t,selectors:[["app-authenticate"]],decls:1,vars:0,template:function(t,e){1&t&&l.Pb(0,"router-outlet")},directives:[o.f],styles:["[_nghost-%COMP%]{background:#020024;background:linear-gradient(90deg,#020024,#008460 59%,#008463 89%);display:flex;flex:1;align-items:center;justify-content:center}"]}),t})(),children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:O}]}];let v=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(w)],o.e]}),t})();var k=n("bTqV"),y=n("Xa2L"),C=n("G73M");let T=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},providers:[b,m.a],imports:[[r.c,o.e,v,i.m,f.d,g.c,k.b,y.a,C.a]]}),t})()}}]);